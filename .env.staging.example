# TMS Server Staging Environment Configuration
# Copy to .env and fill in real values
# DO NOT commit real credentials to git!

# ============================================
# Environment
# ============================================
ENVIRONMENT=staging
DEBUG=true

# ============================================
# Database Configuration (PostgreSQL)
# ============================================
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/tms_staging_db
DATABASE_URL_SYNC=postgresql://user:password@localhost:5432/tms_staging_db

# ============================================
# Redis Configuration
# ============================================
REDIS_URL=redis://:password@localhost:6379/1
REDIS_PASSWORD=your-redis-password

# ============================================
# GCGC User Management System Integration
# ============================================
USER_MANAGEMENT_API_URL=https://your-tms-domain.com
USER_MANAGEMENT_API_KEY=your-api-key-here
USER_MANAGEMENT_API_TIMEOUT=60
TMS_API_URL=https://your-tms-domain.com
TMS_API_KEY=your-api-key-here

# ============================================
# JWT Configuration
# ============================================
# CRITICAL: Must match GCGC staging's NEXTAUTH_SECRET
JWT_SECRET=your-jwt-secret-min-32-chars
NEXTAUTH_SECRET=your-nextauth-secret-min-32-chars

# ============================================
# CORS Configuration
# ============================================
ALLOWED_ORIGINS=https://your-chat-staging-domain.com,http://localhost:3000,http://localhost:3001,https://your-tms-domain.com

# ============================================
# GCGC Login URL
# ============================================
GCGC_LOGIN_URL=https://your-tms-domain.com/auth/signin

# ============================================
# Object Storage Configuration (OSS)
# ============================================
OSS_ACCESS_KEY_ID=your-oss-access-key-id
OSS_ACCESS_KEY_SECRET=your-oss-access-key-secret
OSS_BUCKET_NAME=your-bucket-name
OSS_ENDPOINT=your-oss-endpoint.com
OSS_PREFIX=staging/

# ============================================
# File Upload Configuration
# ============================================
MAX_FILE_SIZE=104857600  # 100MB in bytes
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp,video/mp4,video/webm,audio/mpeg,audio/ogg,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet

# ============================================
# Security Configuration
# ============================================
SESSION_TIMEOUT=86400  # 24 hours
MAX_LOGIN_ATTEMPTS=10
LOGIN_TIMEOUT=1800  # 30 minutes
API_RATE_LIMIT=200
WS_RATE_LIMIT=100

# ============================================
# WebSocket Configuration
# ============================================
WS_MAX_CONNECTIONS=1000
WS_HEARTBEAT_INTERVAL=30
WS_CONNECTION_TIMEOUT=300

# ============================================
# Database Connection Pool Configuration
# ============================================
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=5
DB_POOL_RECYCLE=3600
DB_POOL_PRE_PING=true

# ============================================
# Cache Configuration
# ============================================
CACHE_DEFAULT_TTL=300  # 5 minutes
CACHE_USER_TTL=300
CACHE_PRESENCE_TTL=180  # 3 minutes
CACHE_SESSION_TTL=86400  # 24 hours

# ============================================
# Logging
# ============================================
LOG_LEVEL=debug
